<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title class="small-caps">Responder</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title class="small-caps" size="large">Responder</ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-card>
        <ion-card-header>
            <ion-card-title>Responder comentario</ion-card-title>
            <ion-card-subtitle>Puedes responder a la calificación que hizo {{rating.fromUser.name}} sobre ti. Tienes tiempo hasta el {{getReplyLimitDate()}}.</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
            <ion-item lines="full" class="mb-20">
                <blockquote><span class="open-quote">“</span>{{rating.comment}}<span class="close-quote">”</span></blockquote>
            </ion-item>

            <form [formGroup]="replyForm" (ngSubmit)="replyRating()">
                <ion-item lines="full" class="ion-margin-bottom">
                    <ion-label position="floating">Respuesta</ion-label>
                    <ion-textarea minlength="10" maxlength="500" rows="3" placeholder="¿Estás de acuerdo con este comentario y la experiencia que has tenido con este usuario?" formControlName="reply"></ion-textarea>
                </ion-item>

                <ion-button type="submit" expand="block" class="mt-20" [disabled]="!replyForm.valid">Responder</ion-button>
            </form>
        </ion-card-content>
    </ion-card>
</ion-content>